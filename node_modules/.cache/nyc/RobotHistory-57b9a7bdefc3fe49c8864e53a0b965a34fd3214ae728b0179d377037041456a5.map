{"version":3,"file":"/home/anuradha/toy-robot-simulator/src/action/RobotHistory.ts","sources":["/home/anuradha/toy-robot-simulator/src/action/RobotHistory.ts"],"names":[],"mappings":";;;;;AAAA,4EAAsD;AAItD;IAIE,sBAAY,KAAa;QAHf,WAAM,GAAa,EAAE,CAAC;QAI9B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAED,6BAAM,GAAN;QACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,2BAAI,GAAJ;QACE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM;YAAE,MAAM,IAAI,wBAAc,EAAE,CAAC;QAAA,CAAC;QACrD,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,EAAY,CAAC;QAC9C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IAChC,CAAC;IAED,6BAAM,GAAN;QACE,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,8BAAO,GAAP;QACE,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAA;IACjC,CAAC;IACH,mBAAC;AAAD,CAAC,AAzBD,IAyBC;AAED,kBAAe,YAAY,CAAC","sourcesContent":["import NoHistoryError from '../errors/NoHistoryError';\nimport IRobot from '../types/robot';\nimport IState from '../types/state';\n\nclass RobotHistory {\n  protected states: IState[] = [];\n  protected robot: IRobot;\n\n  constructor(robot: IRobot) {\n    this.robot = robot;\n  }\n\n  backup(): void {\n    this.states.push(this.robot.backup());\n  }\n\n  undo(): void | Error {\n    if (!this.states.length) throw new NoHistoryError();;\n    const lastState = this.states.pop() as IState;\n    this.robot.restore(lastState);\n  }\n\n  getAll(): IState[] {\n    return this.states;\n  }\n\n  isEmpty(): boolean {\n    return this.states.length === 0\n  }\n}\n\nexport default RobotHistory;\n"]}